原题:CF28a

难度: 1600

算法:模拟

## 题意
有 n 个钉子，从 1 到 n 编号，有m 条铁棒，要求用这些铁棒和钉子围成封闭图形。铁棒不与要用完,但是必须平行于坐标轴。现在把铁棒弯成直角,中间的折叠点一个钉子,两头各一个钉子,要求折叠的这颗钉子必须没有与别的铁棒相连,问选铁棒的方案,棒不能重复。

## 思路

我们应该枚举折线上弯折处的点的位置,因为每段会有三个钉子,弯折处的钉子决定了三个连续钉子的位置。若折叠点是第k个钉子,那么它的两旁就是编号k-1和k+1的钉子,这样这三个点的最短折线距离就是需要的铁棒的长，所以直接枚举就可以了。


代码如下：

```cpp
#include<bits/stdc++.h>
using namespace std;
int n,b[3001]={0},s=0;//b的用处如上，s为1到n里面的“几乎质数”
int main()
{
	b[1]=1;//1不是质数，特判一下，
	cin>>n;
	for(int i=2;i<=n;i++)//筛素数
    //注意筛数范围，由于要找出一个数的所有质因数，所以必须枚举到n
    //而不是sqrt（n）
	if(b[i]==0)//我们用0表示这个数为质数，这里代表发现一个质数
	{
		for(int j=2;j*i<=n;j++)//把这个数的倍数都枚举一遍
		b[i*j]++;//i的倍数都加一个质因数
        //注意这里，我们在加质因数的时候，也正好把不是质数的数排除了
        //因为b[i*j]都+了1，因此他们都不是0了，所以不是质数了
	}
	for(int i=1;i<=n;i++)
	if(b[i]==2) s++;//枚举一遍，看那些数正好有两个质因数
	cout<<s;//输出总数
	return 0;
}

```

​