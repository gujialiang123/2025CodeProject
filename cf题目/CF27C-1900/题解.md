原题：CF27C

难度：提高，1900

算法：思维

## 分析

很明显，长度 <3 的子序列不可能是非有序的，这样的话我们只需要找到长度为三，且非有序的子序列就行了。因为如果我们有一个长度为4的非有序子序列，我们一定可以删掉其中的一个元素，并保持它的非有序性。

于是，题目简化为找到一个长度为3的非有序子序列。我们可以枚举这个子序列的中间点，然后判断是否可以以它为中间点找到非有序子序列。这可以用前缀最大最小值，后缀最大最小值来完成。

## 实现

```cpp
#include<iostream>
using namespace std;
int n,a[100005];
int main(){
	cin>>n;
	for(int i=1;i<=n;i++)cin>>a[i];
	for(int i=2;i<n;i++){//不要越界
		if(a[1]<a[i]&&a[i]>a[i+1]){//条件一
			cout<<3<<endl<<1<<' '<<i<<' '<<i+1;
			return 0;
		}
		if(a[1]>a[i]&&a[i]<a[i+1]){//条件二
			cout<<3<<endl<<1<<' '<<i<<' '<<i+1;
			return 0;
		}
	}
	cout<<0;
	return 0;
}
```